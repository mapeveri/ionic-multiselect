!function(){"use strict";angular.module("ionic-multiselect",[]).filter("translateItem",["$injector","$parse",function(e,t){return function(a,n){var r;try{var r=e.get("$filter"),l=t("item."+n.valueProperty),i=l(n);return r("translate")(n.indexTranslate+i)}catch(o){return""}}}]).filter("showTextData",["$injector",function(e){return function(t,a){var n;try{var n=e.get("$filter")}catch(r){}var l=[];if(t.indexOf("^")>-1){l=t.split("^"),l=l.filter(Boolean);for(var i=l.length,o=0;i>o;o++){if(a.isTranslate)var u=n("translate")(a.indexTranslate+l[o].trim());else var u=l[o].trim();l[o]=u}}else a.isTranslate?l.push(n("translate")(a.indexTranslate+t.trim())):l.push(t);return 0==l.length?"":l}}]).directive("multiselect",["$ionicModal",function(e){return{restrict:"E",template:function(e,t){return t.templateUrl?"<ng-include src=\"'"+t.templateUrl+"'\"></ng-include>":""},scope:{items:"=",valueChangedCallback:"&valueChanged",getCustomTextCallback:"&getCustomText"},link:function(t,a,n){t.headerText=n.headerText||"",t.text=n.text||"",t.defaultText=n.text||"",t.checkedProperty=n.checkedProperty||"checked",t.textProperty=n.textProperty||"text",t.valueProperty=n.valueProperty||"id",t.isTranslate="true"===n.isTranslate||!1,t.indexTranslate=n.indexTranslate||"",t.modalTemplateUrl=n.modalTemplateUrl,t.modalAnimation=n.modalAnimation,t.noteText=n.noteText||"",t.modalTemplateUrl?e.fromTemplateUrl(t.modalTemplateUrl,{scope:t,animation:t.modalAnimation}).then(function(e){t.modal=e}):t.modal=e.fromTemplate("",{scope:t,animation:t.modalAnimation}),t.$on("$destroy",function(){t.modal.remove()}),t.getItemText=function(e){return t.textProperty?e[t.textProperty]:e},t.getItemValue=function(e){return t.valueProperty?e[t.valueProperty]:e},t.getText=function(e){var a=e?e:[],n="";return a.length?angular.forEach(t.items,function(e,r){for(var l=0;l<a.length;l++)if(t.getItemValue(e)==a[l]){n+=t.isTranslate?(n.length?"^":"")+t.getItemValue(e):(n.length?"^":"")+t.getItemText(e);break}}):n=t.defaultText,n.length||t.isTranslate||(n=t.defaultText),t.isTranslate&&""==n.trim()&&(n="^"),t.getCustomTextCallback({value:e})||n},t.hideItems=function(e){t.modal.hide()},t.onCheckValueChanged=function(e,a){"undefined"!=typeof e&&t.valueChangedCallback({value:e})},t.onValueChanged=function(e,a){t.text=t.getText(e)},t.showItems=function(e){e.preventDefault(),t.modal.show()},t.validate=function(e){if(t.value=[],t.items){var a=[];angular.forEach(t.items,function(e,n){e[t.checkedProperty]?(t.value[n]=t.getItemValue(e),a.push(e)):t.value[n]=""}),t.itemChecked=a}t.hideItems()},t.$watch(function(){return t.itemChecked},t.onCheckValueChanged,!0),t.$watch(function(){return t.value},t.onValueChanged,!0)}}}])}();